<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Jugador - Impostors</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <h1>Unirse a partida</h1>
  <input id="nombreJugador" placeholder="Tu nombre">
  <input id="codigoPartida" placeholder="CÃ³digo de partida">
  <button id="btnUnirse">Unirse</button>
  <p id="mensaje"></p>

<script>
const socket = io();

document.getElementById('btnUnirse').addEventListener('click', ()=>{
  const nombre = document.getElementById('nombreJugador').value;
  const codigo = document.getElementById('codigoPartida').value;
  socket.emit('unirse_partida', { nombre, codigo });
});

socket.on('unido', (data)=>{
  if(data.status === 'ok'){
    document.getElementById('mensaje').innerText = 'Te uniste correctamente!';
  } else {
    document.getElementById('mensaje').innerText = 'Error: ' + data.mensaje;
  }
});

socket.on('partida_iniciada', ()=> {
  alert('La partida ha comenzado!');
});
</script>
</body>
</html>
